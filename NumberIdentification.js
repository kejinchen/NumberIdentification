var app = require('express')();
var http = require('http').Server(app);
var io = require('socket.io')(http);
//0~9的座標
var d1=[{"x":131,"y":60},{"x":132,"y":61},{"x":132,"y":64},{"x":133,"y":68},{"x":133,"y":71},{"x":135,"y":82},{"x":135,"y":85},{"x":136,"y":89},{"x":137,"y":96},{"x":137,"y":98},{"x":137,"y":100},{"x":137,"y":114},{"x":137,"y":116},{"x":137,"y":121},{"x":137,"y":128},{"x":137,"y":130},{"x":137,"y":133},{"x":137,"y":139},{"x":137,"y":143},{"x":137,"y":145},{"x":137,"y":154},{"x":137,"y":158},{"x":137,"y":159},{"x":137,"y":165},{"x":136,"y":167},{"x":136,"y":169},{"x":135,"y":175},{"x":135,"y":177},{"x":134,"y":188},{"x":133,"y":192},{"x":132,"y":197},{"x":129,"y":212},{"x":129,"y":213},{"x":129,"y":216},{"x":129,"y":217},{"x":129,"y":219},{"x":129,"y":220},{"x":129,"y":222},{"x":128,"y":225},{"x":128,"y":227}];
var d2=[{"x":95,"y":106},{"x":95,"y":95},{"x":96,"y":93},{"x":99,"y":87},{"x":101,"y":84},{"x":103,"y":81},{"x":104,"y":81},{"x":111,"y":80},{"x":113,"y":80},{"x":115,"y":79},{"x":117,"y":79},{"x":129,"y":79},{"x":129,"y":79},{"x":130,"y":79},{"x":132,"y":79},{"x":138,"y":82},{"x":156,"y":99},{"x":157,"y":101},{"x":158,"y":103},{"x":158,"y":104},{"x":159,"y":106},{"x":162,"y":123},{"x":159,"y":136},{"x":147,"y":155},{"x":144,"y":157},{"x":135,"y":164},{"x":127,"y":168},{"x":114,"y":174},{"x":106,"y":177},{"x":102,"y":179},{"x":100,"y":179},{"x":99,"y":181},{"x":96,"y":186},{"x":105,"y":187},{"x":107,"y":187},{"x":124,"y":187},{"x":125,"y":187},{"x":163,"y":188},{"x":164,"y":188},{"x":166,"y":188}];
var d3=[{"x":83,"y":77},{"x":83,"y":74},{"x":83,"y":71},{"x":89,"y":62},{"x":99,"y":55},{"x":102,"y":54},{"x":109,"y":52},{"x":167,"y":83},{"x":167,"y":88},{"x":167,"y":95},{"x":167,"y":96},{"x":167,"y":98},{"x":129,"y":133},{"x":128,"y":134},{"x":124,"y":135},{"x":119,"y":137},{"x":111,"y":139},{"x":128,"y":135},{"x":135,"y":134},{"x":154,"y":133},{"x":163,"y":134},{"x":166,"y":135},{"x":170,"y":136},{"x":175,"y":139},{"x":178,"y":144},{"x":181,"y":150},{"x":181,"y":151},{"x":186,"y":170},{"x":186,"y":171},{"x":186,"y":175},{"x":184,"y":188},{"x":178,"y":197},{"x":176,"y":199},{"x":171,"y":202},{"x":167,"y":204},{"x":138,"y":219},{"x":129,"y":222},{"x":125,"y":223},{"x":119,"y":224},{"x":91,"y":224}];
var d4=[{"x":114,"y":72},{"x":113,"y":76},{"x":106,"y":88},{"x":100,"y":98},{"x":96,"y":104},{"x":89,"y":112},{"x":80,"y":123},{"x":72,"y":131},{"x":56,"y":143},{"x":50,"y":152},{"x":46,"y":157},{"x":42,"y":162},{"x":37,"y":170},{"x":36,"y":172},{"x":38,"y":173},{"x":95,"y":175},{"x":122,"y":175},{"x":178,"y":172},{"x":179,"y":172},{"x":181,"y":172},{"x":184,"y":172},{"x":204,"y":172},{"x":205,"y":172},{"x":132,"y":69},{"x":131,"y":88},{"x":130,"y":132},{"x":130,"y":151},{"x":130,"y":178},{"x":130,"y":183},{"x":130,"y":188},{"x":130,"y":192},{"x":130,"y":197},{"x":130,"y":206},{"x":130,"y":213},{"x":130,"y":218},{"x":130,"y":220},{"x":130,"y":223},{"x":130,"y":226},{"x":130,"y":229},{"x":130,"y":230}];
var d5=[{"x":94,"y":82},{"x":93,"y":82},{"x":93,"y":106},{"x":93,"y":113},{"x":92,"y":117},{"x":90,"y":135},{"x":90,"y":136},{"x":90,"y":139},{"x":90,"y":140},{"x":90,"y":151},{"x":92,"y":147},{"x":97,"y":142},{"x":116,"y":138},{"x":140,"y":138},{"x":156,"y":142},{"x":158,"y":146},{"x":166,"y":160},{"x":168,"y":165},{"x":169,"y":171},{"x":171,"y":177},{"x":171,"y":192},{"x":166,"y":200},{"x":164,"y":202},{"x":158,"y":207},{"x":154,"y":210},{"x":147,"y":213},{"x":138,"y":216},{"x":128,"y":218},{"x":117,"y":218},{"x":101,"y":218},{"x":88,"y":216},{"x":85,"y":215},{"x":84,"y":215},{"x":84,"y":214},{"x":96,"y":98},{"x":104,"y":96},{"x":113,"y":94},{"x":166,"y":94},{"x":174,"y":94},{"x":176,"y":94}];
var d6=[{"x":135,"y":58},{"x":126,"y":65},{"x":120,"y":72},{"x":112,"y":83},{"x":107,"y":94},{"x":102,"y":112},{"x":101,"y":118},{"x":99,"y":131},{"x":99,"y":142},{"x":99,"y":156},{"x":99,"y":161},{"x":102,"y":175},{"x":103,"y":177},{"x":104,"y":179},{"x":106,"y":181},{"x":114,"y":184},{"x":131,"y":189},{"x":144,"y":190},{"x":160,"y":185},{"x":162,"y":183},{"x":164,"y":180},{"x":167,"y":176},{"x":172,"y":169},{"x":176,"y":140},{"x":175,"y":138},{"x":172,"y":136},{"x":169,"y":135},{"x":156,"y":130},{"x":153,"y":129},{"x":149,"y":127},{"x":141,"y":126},{"x":137,"y":126},{"x":129,"y":129},{"x":127,"y":130},{"x":124,"y":131},{"x":117,"y":136},{"x":114,"y":138},{"x":112,"y":139},{"x":105,"y":144},{"x":104,"y":145}];
var d7=[{"x":84,"y":64},{"x":84,"y":65},{"x":87,"y":87},{"x":87,"y":105},{"x":87,"y":122},{"x":87,"y":124},{"x":88,"y":126},{"x":88,"y":130},{"x":90,"y":65},{"x":108,"y":65},{"x":150,"y":65},{"x":162,"y":65},{"x":167,"y":65},{"x":168,"y":65},{"x":169,"y":65},{"x":170,"y":65},{"x":175,"y":65},{"x":178,"y":65},{"x":183,"y":65},{"x":194,"y":65},{"x":195,"y":65},{"x":194,"y":74},{"x":192,"y":81},{"x":182,"y":111},{"x":181,"y":114},{"x":180,"y":117},{"x":178,"y":126},{"x":177,"y":131},{"x":172,"y":154},{"x":171,"y":161},{"x":167,"y":181},{"x":165,"y":195},{"x":165,"y":201},{"x":163,"y":214},{"x":163,"y":218},{"x":162,"y":223},{"x":160,"y":226},{"x":160,"y":227},{"x":159,"y":232},{"x":159,"y":234}];
var d8=[{"x":177,"y":87},{"x":175,"y":81},{"x":172,"y":77},{"x":157,"y":66},{"x":144,"y":64},{"x":103,"y":64},{"x":93,"y":71},{"x":91,"y":76},{"x":91,"y":85},{"x":91,"y":89},{"x":91,"y":92},{"x":92,"y":95},{"x":107,"y":118},{"x":122,"y":129},{"x":141,"y":147},{"x":143,"y":150},{"x":152,"y":167},{"x":157,"y":187},{"x":158,"y":189},{"x":158,"y":191},{"x":158,"y":195},{"x":157,"y":209},{"x":156,"y":214},{"x":154,"y":216},{"x":149,"y":219},{"x":113,"y":226},{"x":107,"y":226},{"x":102,"y":224},{"x":99,"y":223},{"x":96,"y":221},{"x":92,"y":218},{"x":91,"y":216},{"x":90,"y":189},{"x":96,"y":168},{"x":116,"y":144},{"x":118,"y":142},{"x":139,"y":127},{"x":147,"y":120},{"x":181,"y":89},{"x":182,"y":87}];
var d9=[{"x":168,"y":82},{"x":168,"y":79},{"x":168,"y":77},{"x":168,"y":76},{"x":168,"y":74},{"x":161,"y":65},{"x":147,"y":57},{"x":139,"y":56},{"x":131,"y":56},{"x":113,"y":61},{"x":109,"y":63},{"x":100,"y":68},{"x":93,"y":78},{"x":91,"y":85},{"x":87,"y":98},{"x":86,"y":110},{"x":86,"y":112},{"x":87,"y":113},{"x":99,"y":120},{"x":132,"y":124},{"x":135,"y":124},{"x":136,"y":124},{"x":159,"y":107},{"x":162,"y":102},{"x":164,"y":100},{"x":168,"y":94},{"x":173,"y":87},{"x":174,"y":94},{"x":174,"y":99},{"x":173,"y":115},{"x":173,"y":119},{"x":172,"y":124},{"x":171,"y":128},{"x":170,"y":131},{"x":170,"y":135},{"x":167,"y":152},{"x":166,"y":156},{"x":164,"y":181},{"x":160,"y":209},{"x":160,"y":213}];
var d0=[{"x":126,"y":65},{"x":114,"y":74},{"x":102,"y":84},{"x":97,"y":89},{"x":94,"y":93},{"x":82,"y":124},{"x":81,"y":139},{"x":81,"y":185},{"x":85,"y":193},{"x":92,"y":207},{"x":99,"y":215},{"x":109,"y":222},{"x":117,"y":227},{"x":121,"y":228},{"x":129,"y":228},{"x":145,"y":229},{"x":154,"y":229},{"x":165,"y":227},{"x":170,"y":225},{"x":180,"y":219},{"x":185,"y":211},{"x":188,"y":206},{"x":194,"y":194},{"x":196,"y":188},{"x":200,"y":169},{"x":201,"y":164},{"x":201,"y":160},{"x":201,"y":158},{"x":202,"y":154},{"x":200,"y":123},{"x":194,"y":107},{"x":193,"y":105},{"x":191,"y":100},{"x":190,"y":98},{"x":189,"y":95},{"x":181,"y":85},{"x":164,"y":73},{"x":161,"y":71},{"x":147,"y":66},{"x":123,"y":63}];

app.get('/', function(req, res){
  res.sendFile(__dirname + '/NumberIdentification.html');//.sendFile-express
});
io.on('connection', function(socket){
  socket.on('drawPath', function(path){
    var num=[d1,d2,d3,d4,d5,d6,d7,d8,d9,d0];
    socket.emit('drawPath',num); 
  });
});
http.listen(3000, function(){
  console.log('listening on *:3000');
}); 